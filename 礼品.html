<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			.nav .center li:nth-child(4){
		        border-bottom: 5px #ADFF2F solid;
		    }
		</style>
		<link rel="stylesheet" href="css/fruit.css" />
		<script src="js/jquery-1.8.3.min.js"></script>
	</head>
	<body>
		<div id="box">
			<div class="nav"></div>
			<div class="container">
				<div class="containerTop">
					<p><span>场合     <a class="all" href="###">全部</a></span>
						<ul>
						<li><a  class="srkl" href="###">生日快乐</a></li>
						<li><a  class="zqfy" href="###">走亲访友</a></li>
					</ul></p>
					<p><span>规格     <a class="all" href="###">全部</a></span>
						<ul>
						<li><a class="dp" href="###">单品</a></li>
						<li><a class="lh" href="###">礼盒</a></li>
						<li><a class="kj"href="###">卡劵 </a></li>
					</ul></p>
					<p><span>价格     <a href="###">100以下</a></span>
						<ul>
						<li><a href="###">100-200</a></li>
						<li><a href="###">200以上</a></li>
					</ul></p>
				</div>
				<div class="containerCenter">
					<!--<ul>
						<li><dl>
							<dt><img src="img/1-270x270-102-UXSXB7Y2.jpg"/></dt>
							<dd>
								<div class="ddleft">
									<a href="###">云南树莓</a><br />
									<a href="###">￥128.00/4盒</a>
								</div>
								<a href="###"><img src="img/car.jpg" width="36"/></a>
							</dd>
						</dl></li>
					</ul>-->
				</div>
			</div>
			<div class="footer"></div>
			<div class="up"><a href="#">顶部TOP</a></div>
		</div>
	</body>
	<script>
		$(function(){
			$(".nav").load("nav.html");
			$(".nav .center li:eq(0)").removeClass("active");
			$(".footer").load("footer.html");
//			//鼠标效果
//			$(".containerCenter ul dl dt img").mouseenter(function(){
//				console.log($(this));
//				$(this).animate({
//					"width":"300px"
//				})
//			});
//			$(".containerCenter ul dl dt img").mouseleave(function(){
//				$(this).animate({
//					"width":"275px"
//				})
//			});
//			//点击切换
//			$(".containerTop a").click(function(){
//				$(this).css({
//					"color":"red"
//				})	
//				
//			})
			//------------------------------------动态创建内容-------------------------------
			//----------------模拟后台----------------------
			let htmlStr="<ul>";
			$.getJSON("fruit.json",function(res){
				console.log(res);
				for(var i=0;i<res.length;i++){
				htmlStr+="<li><dl><dt class='dt2'><img src='img/"+res[i].url+"'/><span class='wrap2'>会员专享</span><p><i>"+res[i].beizhu+"</i></p></dt><dd><div class='ddleft'><a href='###'>"+res[i].title+"</a><br /><a href='###'>"+res[i].jiage+"</a></div><a href='###'><img src='img/car.jpg' width='36'/></a></dd></dl></li>";
				}
				htmlStr+="</ul>";
				$(".containerCenter").append(htmlStr);
				xiaoguo();
				
				//-------------------点击改变内容-----------------------
//					var htmlStr;
				$(".containerTop a").click(function(){
					$(".containerCenter").text("");
					$.getJSON("fruit.json",function(res){
						for(var i=0;i<res.length;i++){
							var act=res[i].tag;
//								console.log(act);
							if($(this).hasClass("srkl")){
								console.log($(this));
								htmlStr+='<li><dl><dt><img src="img/'+res[i].url+'"/></dt><dd><div class="ddleft"><a href="###">'+res[i].title+'</a><br /><a href="###">'+res[i].jiage+'</a></div><a href="###"><img src="img/car.jpg" width="36"/></a></dd></dl></li>';
								break;
								htmlStr+="</ul>";
							}
							
							$(".containerCenter").append(htmlStr);
						}	
					})
				})
				
			})
			
			//-------------------模拟后台结束-------------------
			//
			function xiaoguo(){
				var timer0;
				var _left=0;
				//--------鼠标移到图片上-------
				$(".container ul dl dt").mouseenter(function(){
					//-------图片放大-------
					$(this).children("img").animate({
						"width":"300px"
					})
					//-----滚动文字出现-----
					$(this).children("p").animate({
						"bottom":"0"
					})
					var m=0;
					//----------滚动文字的滚动实现-----------（有点小问题）
					timer0=setInterval(function(){
						m++;
						 _left=m*(-10);
						$(".container ul dl dt p i").animate({
							"left":_left+"px"
						})
						console.log(_left);
					},30)
				});
				//--------鼠标移开--------
				$(".container ul dl dt").mouseleave(function(){
					$(this).children("img").animate({
						"width":"275px"
					})
					$(this).children("p").animate({
						"bottom":"-60px"
					})
					clearInterval(timer0);
					$(".container ul dl dt p i").animate({
						"left":"0px"
					})
				});
			};
			
			//---------------------没有模拟后台创建----------------------
//			let htmlStr="<ul>";
//			for(var i=0;i<10;i++){
//				htmlStr+="<li><dl><dt><img src='img/1-270x270-12266-ACAPHW81.jpg'/></dt><dd><div class='ddleft'><a href='###'>深情厚谊水果礼蓝</a><br/><a href='###'>￥580.00/1个</a></div><a href='###'><img src='img/car.jpg' width='36'/></a></dd></dl></li>";
//			}
//			htmlStr+="</ul>";
//			$(".containerCenter").append(htmlStr);
			//-------------------点击改变内容-----------------------
			//---------------全部-----------------
//			$("a[class='all']").click(function(){
//				$(".containerCenter").text("");
//				let htmlStr="<ul>";
//				for(var i=0;i<10;i++){
//					htmlStr+="<li><dl><dt><img src='img/1-270x270-12266-ACAPHW81.jpg'/></dt><dd><div class='ddleft'><a href='###'>深情厚谊水果礼蓝</a><br/><a href='###'>￥580.00/1个</a></div><a href='###'><img src='img/car.jpg' width='36'/></a></dd></dl></li>";
//				}
//				htmlStr+="</ul>";
//				$(".containerCenter").append(htmlStr);
//			});
//			//生日快乐界面
//			$("a[class='srkl']").click(function(){
//				$(".containerCenter").text("");
//				let htmlStr="<ul>";
//				for(var i=0;i<2;i++){
//					htmlStr+="<li><dl><dt><img src='img/1-270x270-837-1TFD6W34.jpg'/></dt><dd><div class='ddleft'><a href='###'>万事如意礼盒提货券</a><br/><a href='###'>￥198.00/一张</a></div><a href='###'><img src='img/car.jpg' width='36'/></a></dd></dl></li>";
//				}
//				htmlStr+="</ul>";
//				$(".containerCenter").append(htmlStr);
//			});
//			//走亲访友界面
//			$("a[class='zqfy']").click(function(){
//				$(".containerCenter").text("");
//				let htmlStr="<ul>";
//				for(var i=0;i<7;i++){
//					htmlStr+="<li><dl><dt><img src='img/1-270x270-14913-AWPDWF86.jpg'/></dt><dd><div class='ddleft'><a href='###'>爱的回报礼盒</a><br/><a href='###'>￥188.0元/1盒</a></div><a href='###'><img src='img/car.jpg' width='36'/></a></dd></dl></li>";
//				}
//				htmlStr+="</ul>";
//				$(".containerCenter").append(htmlStr);
//				$(".containerCenter li img").click(function(){
//					location="http://127.0.0.1:8020/AiGuoPu/%E8%B4%AD%E7%89%A9.html";
//				})
//			})
			//跳转到购物车
			$(".containerCenter li img").click(function(){
				location="http://127.0.0.1:8020/AiGuoPu/%E8%B4%AD%E7%89%A9.html";
			})
		})
	</script>
</html>
